package com.interview.cienna;

import java.util.Iterator;
import java.util.Set;
import java.util.TreeSet;

public class PangramDetector 
{
	
    /**
     * 
     * @param inputString
     * @return String of missing Pangram characters
     */
    public String findMissingLetters(String sentence)
    {
    	final int ASCII_VALUE_OF_SMALL_CASE_CHAR_A = 97;
    	final int ASCII_VALUE_OF_SMALL_CASE_CHAR_Z = 122;
    	
    	StringBuilder missingString = new StringBuilder();
    	Set<Character> distinctCharsInInputStringSortedAlphabetically = new TreeSet<Character>();
    	
    	 for (Character character : sentence.toLowerCase().toCharArray()) {
             if ((int) character >= ASCII_VALUE_OF_SMALL_CASE_CHAR_A
                     && (int) character <= ASCII_VALUE_OF_SMALL_CASE_CHAR_Z) {
                 distinctCharsInInputStringSortedAlphabetically.add(character);
             }
         }
        Set<Character> missingAlphabets = new TreeSet<Character>();
        
            char alphabet_a = 'a';
            int asciiValue = (int) alphabet_a;
            for (Character alphabetsInInput : distinctCharsInInputStringSortedAlphabetically) {
                do {
                    if ((int) alphabetsInInput > asciiValue) {
                        missingAlphabets.add((char)asciiValue);
                    }
                    asciiValue++;
                } while ((int) alphabetsInInput >= asciiValue);

            }

            if(asciiValue <=ASCII_VALUE_OF_SMALL_CASE_CHAR_Z){
                do{
                    missingAlphabets.add((char)asciiValue);
                    asciiValue++;
                }while(asciiValue <=ASCII_VALUE_OF_SMALL_CASE_CHAR_Z);
            }
            Iterator<Character> itr = missingAlphabets.iterator();
            while ( itr.hasNext() ){
            	missingString.append(itr.next());
            }
        
            return missingString.toString();
    }
    

    public static void main( String[] args )
    {
    	PangramDetector pd = new PangramDetector();
    	
    	String missing = pd.findMissingLetters("We hates Bagginses!");
        System.out.println(missing);
    }
}
